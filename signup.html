<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./css/bootstrap.css">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="mx-auto contain col-sm-6 mt-4 pt-4">
                <h4 class="text-center">sign in</h4>
                <div id="alartmsg" class="text-center"></div>
                <input type="text" class="form-control mt-3 mb-4" placeholder="Enter email" id="ee">
                <input type="password" class="form-control mt-3 mb-4" placeholder="Enter password" id="ep">
                <button class="form-control  text-light  mb-3" onclick="signUp()">sign in</button>
                
            </div>
        </div>
    </div>

    <script>
        const showAlart = (msg, className) => {
            alartmsg.innerText = msg;
            alartmsg.className = className
        }

        let allUser = JSON.parse(localStorage.getItem("localDetails"))
        const signUp = () => {

            var found = false
            allUser.map((user, i) => {
                if (user.email == ee.value && user.password == ep.value) {
                    localStorage.setItem("currentuserdetails", i)

                    found = true
                }
            })

            if (found == true) {
                // showAlart("Login successful", "alert alert-success text-center")
                swal("Login successful", "You clicked the button!", "success",);
                setTimeout(() => {

                    window.location.href = "confirm.html"
                }, 2000)

            }
            else if (ee.value == "" || ep.value == "") {
                // showAlart("can not be empty", "alert alert-danger text-center")
                setTimeout(() => {
                    alartmsg.className = ""
                    alartmsg.innerText = ""
                }, 2000);

            }
            else {
                showAlart("wroung Details", "alert alert-danger text-center")
                setTimeout(() => {
                    alartmsg.className = ""
                    alartmsg.innerText = ""
                }, 2000);
            }
        }

    </script>
</body>

</html>